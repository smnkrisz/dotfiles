(()=>{var e={857:(e,t,r)=>{const{hash:s}=r(749),i=Buffer.alloc(20);t.hash=e=>(s(a(e),i),i.toString("hex"));const a=e=>(e=>e.length>=3&&239===e[0]&&187===e[1]&&191===e[2])(e)?n(e.slice(3)):(e=>e.length>=2&&255===e[0]&&254===e[1])(e)?e.slice(2):(e=>e.length>=2&&254===e[0]&&255===e[1])(e)?e.slice(2).swap16():n(e),n=e=>Buffer.from(e.toString("utf8"),"utf16le")},749:(e,t,r)=>{let s,i=null;function a(){return null!==i&&i.buffer===s.memory.buffer||(i=new Uint8Array(s.memory.buffer)),i}let n=0;function c(e,t){const r=t(1*e.length);return a().set(e,r/1),n=e.length,r}e.exports.hash=function(e,t){try{var r=c(e,s.__wbindgen_malloc),i=n,o=c(t,s.__wbindgen_malloc),l=n;s.hash(r,i,o,l)}finally{t.set(a().subarray(o/1,o/1+l)),s.__wbindgen_free(o,1*l)}},s=r(583)},583:(e,t,r)=>{const s=r(17).join(__dirname,"chromehash_bg.wasm"),i=r(147).readFileSync(s),a=new WebAssembly.Module(i),n=new WebAssembly.Instance(a,{});e.exports=n.exports},379:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,i)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalAndRemoteFsUtils=t.RemoteFsThroughDapUtils=t.LocalFsUtils=t.IFsUtils=t.readFileRaw=t.writeFile=t.readfile=t.readdir=t.stat=t.moveFile=t.existsWithoutDeref=t.existsInjected=t.copyFile=t.canAccess=t.fsModule=void 0;const n=a(r(147)),c=a(r(837));async function o({access:e},t){if(!t)return!1;try{return await e(t),!0}catch(e){return!1}}t.fsModule=n,t.canAccess=o,t.copyFile=async function(e,t,r){try{await e.copyFile(t,r)}catch(s){try{if(!await o(e,r))throw s;await e.unlink(r),await e.copyFile(t,r)}catch(e){throw s}}},t.existsInjected=async function({stat:e},t){if(t)try{return await e(t)}catch(e){return}},t.existsWithoutDeref=async function({lstat:e},t){if(t)try{return await e(t)}catch(e){return}},t.moveFile=async function({copyFile:e,rename:t,unlink:r},s,i){try{await t(s,i)}catch(t){await e(s,i),await r(s)}},t.stat=function(e){return new Promise((t=>{n.stat(e,((e,r)=>t(e?void 0:r)))}))},t.readdir=function(e){return new Promise((t=>{n.readdir(e,"utf8",(async(e,r)=>{t(e?[]:r)}))}))},t.readfile=function(e){return new Promise((t=>{n.readFile(e,"utf8",(async(e,r)=>{t(e?"":r)}))}))},t.writeFile=c.promisify(n.writeFile),t.readFileRaw=function(e){return n.promises.readFile(e).catch((()=>Buffer.alloc(0)))},t.IFsUtils=Symbol("FsUtils");class l{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,n.constants.F_OK),!0}catch(e){return!1}}readFile(e){return this.fs.readFile(e)}}t.LocalFsUtils=l;class u{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{const{doesExists:t}=await this.dap.remoteFileExistsRequest({localFilePath:e});return t}catch(e){return!1}}readFile(){throw new Error("not implemented")}}t.RemoteFsThroughDapUtils=u,t.LocalAndRemoteFsUtils=class{constructor(e,t,r){this.remoteFilePrefix=e,this.localFsUtils=t,this.remoteFsUtils=r}static create(e,t,r){const s=new l(t);return void 0!==e?new this(e.toLowerCase(),s,new u(r)):s}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}}},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},837:e=>{"use strict";e.exports=require("util")},267:e=>{"use strict";e.exports=require("worker_threads")}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=r(857),t=r(267),s=r(379),i=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),a=Buffer.from("\n});"),n=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),c=Buffer.from("\n}.call(this, exports, require, module, __filename, __dirname); });"),o=Buffer.from("#!"),l=Buffer.from("\r")[0],u=Buffer.from("\n")[0],f=(t,r,s)=>{if((0,e.hash)(t)===r)return!0;if(s){if(f=o,t.slice(0,f.length).equals(f)){let s=t.indexOf(u);return t[s-1]===l&&s--,(0,e.hash)(t.slice(s))===r}if((0,e.hash)(Buffer.concat([i,t,a]))===r)return!0}var f;return(0,e.hash)(Buffer.concat([n,t,c]))===r},h=e=>e instanceof Buffer?e:Buffer.from(e,"utf-8");var d;t.parentPort&&(d=t.parentPort).on("message",(t=>{(async function(t){switch(t.type){case 0:try{const r=await(0,s.readFileRaw)(t.file);return{id:t.id,hash:(0,e.hash)(r)}}catch(e){return{id:t.id}}case 1:try{return{id:t.id,hash:(0,e.hash)(h(t.data))}}catch(e){return{id:t.id}}case 2:try{const e=await(0,s.readFileRaw)(t.file);return{id:t.id,matches:f(e,t.expected,t.checkNode)}}catch(e){return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:f(h(t.data),t.expected,t.checkNode)}}catch(e){return{id:t.id,matches:!1}}}})(t).then((e=>d.postMessage(e)))}))})()})();